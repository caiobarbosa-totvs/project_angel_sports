<list>
  <ProcessDefinition>
    <processDefinitionPK>
      <companyId>1</companyId>
      <processId>cadastroClientes</processId>
    </processDefinitionPK>
    <processDescription>Cadastro de Clientes</processDescription>
    <instruction></instruction>
    <active>true</active>
    <publicProcess>false</publicProcess>
    <volumeId>Default</volumeId>
    <categoryId>Cadastros</categoryId>
    <managerEngineAllocationId>Papel</managerEngineAllocationId>
    <managerEngineAllocationConfiguration>&lt;AssignmentController&gt;&lt;Role&gt;gestorCadastroClientes&lt;/Role&gt;&lt;/AssignmentController&gt;</managerEngineAllocationConfiguration>
    <snapshotFrequency>0</snapshotFrequency>
    <baseDay>0</baseDay>
    <baseMonth>0</baseMonth>
    <periodId>Default</periodId>
    <uniqueCardVersion>false</uniqueCardVersion>
    <keyWord></keyWord>
    <complementsLevel>1</complementsLevel>
    <notifyRequisitionerComplements>true</notifyRequisitionerComplements>
    <notifyManagerComplements>false</notifyManagerComplements>
    <deadlineTime>0</deadlineTime>
    <warningDeadlineTime>0</warningDeadlineTime>
    <notifyAuthorityComplements>true</notifyAuthorityComplements>
  </ProcessDefinition>
  <ProcessDefinitionVersion>
    <processDefinitionVersionPK>
      <companyId>1</companyId>
      <processId>Cadastro de Clientes</processId>
      <version>13</version>
    </processDefinitionVersionPK>
    <versionDescription></versionDescription>
    <formId>83</formId>
    <editionMode>true</editionMode>
    <updateAttachmentsVersion>false</updateAttachmentsVersion>
    <controlsAttachmentsSecurity>false</controlsAttachmentsSecurity>
    <active>true</active>
    <blockedVersion>false</blockedVersion>
    <counterSign>false</counterSign>
    <openInstances>0</openInstances>
    <bpmnVersion>2</bpmnVersion>
    <processStates/>
    <favorito>false</favorito>
    <inheritFormSecurity>false</inheritFormSecurity>
    <mobileReady>true</mobileReady>
  </ProcessDefinitionVersion>
  <list>
    <ProcessState>
      <processStatePK>
        <companyId>1</companyId>
        <processId>cadastroClientes</processId>
        <version>1</version>
        <sequence>4</sequence>
      </processStatePK>
      <stateName>Início</stateName>
      <stateDescription>Início</stateDescription>
      <instruction></instruction>
      <deadlineTime>0</deadlineTime>
      <joint>false</joint>
      <agreementPercentage>0</agreementPercentage>
      <engineAllocationId></engineAllocationId>
      <engineAllocationConfiguration></engineAllocationConfiguration>
      <selectColleague>1</selectColleague>
      <initialState>true</initialState>
      <notifyAuthorityDelay>true</notifyAuthorityDelay>
      <notifyRequisitionerDelay>false</notifyRequisitionerDelay>
      <allowanceAuthorityTime>3600</allowanceAuthorityTime>
      <frequenceAuthorityTime>3600</frequenceAuthorityTime>
      <allowanceRequisitionerTime>0</allowanceRequisitionerTime>
      <frequenceRequisitionerTime>0</frequenceRequisitionerTime>
      <transferAttachments>false</transferAttachments>
      <subProcessId></subProcessId>
      <formFolder>0</formFolder>
      <notifyAuthorityFollowUp>false</notifyAuthorityFollowUp>
      <notifyRequisitionerFollowUp>false</notifyRequisitionerFollowUp>
      <automatic>false</automatic>
      <positionX>100</positionX>
      <positionY>59</positionY>
      <forecastedEffortType>0</forecastedEffortType>
      <forecastedEffort>0</forecastedEffort>
      <notifyManagerFollowUp>false</notifyManagerFollowUp>
      <notifyManagerDelay>false</notifyManagerDelay>
      <allowanceManagerTime>0</allowanceManagerTime>
      <frequenceManagerTime>0</frequenceManagerTime>
      <inhibitTransfer>false</inhibitTransfer>
      <periodId></periodId>
      <stateType>0</stateType>
      <bpmnType>10</bpmnType>
      <signalId>0</signalId>
      <counterSign>false</counterSign>
      <openInstances>0</openInstances>
      <noticeExpirationAuthorityTime>0</noticeExpirationAuthorityTime>
      <noticeExpirationRequisitionerTime>0</noticeExpirationRequisitionerTime>
      <noticeExpirationManagerTime>0</noticeExpirationManagerTime>
      <destinationStates/>
      <digitalSignature>false</digitalSignature>
    </ProcessState>
    <ProcessState>
      <processStatePK>
        <companyId>1</companyId>
        <processId>cadastroClientes</processId>
        <version>1</version>
        <sequence>13</sequence>
      </processStatePK>
      <stateName>Cadastra no Protheus</stateName>
      <stateDescription>Cadastra no Protheus</stateDescription>
      <instruction></instruction>
      <deadlineTime>0</deadlineTime>
      <deadlineFieldName></deadlineFieldName>
      <joint>false</joint>
      <agreementPercentage>0</agreementPercentage>
      <engineAllocationId></engineAllocationId>
      <selectColleague>1</selectColleague>
      <initialState>false</initialState>
      <notifyAuthorityDelay>false</notifyAuthorityDelay>
      <notifyRequisitionerDelay>false</notifyRequisitionerDelay>
      <allowanceAuthorityTime>0</allowanceAuthorityTime>
      <frequenceAuthorityTime>0</frequenceAuthorityTime>
      <allowanceRequisitionerTime>0</allowanceRequisitionerTime>
      <frequenceRequisitionerTime>0</frequenceRequisitionerTime>
      <transferAttachments>false</transferAttachments>
      <subProcessId></subProcessId>
      <formFolder>0</formFolder>
      <notifyAuthorityFollowUp>true</notifyAuthorityFollowUp>
      <notifyRequisitionerFollowUp>false</notifyRequisitionerFollowUp>
      <automatic>false</automatic>
      <positionX>230</positionX>
      <positionY>219</positionY>
      <forecastedEffortType>0</forecastedEffortType>
      <forecastedEffort>0</forecastedEffort>
      <notifyManagerFollowUp>false</notifyManagerFollowUp>
      <notifyManagerDelay>false</notifyManagerDelay>
      <allowanceManagerTime>0</allowanceManagerTime>
      <frequenceManagerTime>0</frequenceManagerTime>
      <inhibitTransfer>false</inhibitTransfer>
      <periodId></periodId>
      <stateType>0</stateType>
      <bpmnType>82</bpmnType>
      <signalId>0</signalId>
      <counterSign>false</counterSign>
      <openInstances>0</openInstances>
      <noticeExpirationAuthorityTime>0</noticeExpirationAuthorityTime>
      <noticeExpirationRequisitionerTime>0</noticeExpirationRequisitionerTime>
      <noticeExpirationManagerTime>0</noticeExpirationManagerTime>
      <destinationStates/>
      <digitalSignature>false</digitalSignature>
      <executionType>1</executionType>
    </ProcessState>
    <ProcessState>
      <processStatePK>
        <companyId>1</companyId>
        <processId>cadastroClientes</processId>
        <version>1</version>
        <sequence>15</sequence>
      </processStatePK>
      <stateName>Tratar erro</stateName>
      <stateDescription>Tratar erro</stateDescription>
      <instruction></instruction>
      <deadlineTime>0</deadlineTime>
      <deadlineFieldName></deadlineFieldName>
      <joint>false</joint>
      <agreementPercentage>0</agreementPercentage>
      <engineAllocationId>Pool Grupo</engineAllocationId>
      <engineAllocationConfiguration>&lt;AssignmentController&gt;&lt;Group&gt;tratarErro&lt;/Group&gt;&lt;/AssignmentController&gt;</engineAllocationConfiguration>
      <selectColleague>1</selectColleague>
      <initialState>false</initialState>
      <notifyAuthorityDelay>true</notifyAuthorityDelay>
      <notifyRequisitionerDelay>false</notifyRequisitionerDelay>
      <allowanceAuthorityTime>3600</allowanceAuthorityTime>
      <frequenceAuthorityTime>3600</frequenceAuthorityTime>
      <allowanceRequisitionerTime>0</allowanceRequisitionerTime>
      <frequenceRequisitionerTime>0</frequenceRequisitionerTime>
      <transferAttachments>false</transferAttachments>
      <subProcessId></subProcessId>
      <formFolder>0</formFolder>
      <notifyAuthorityFollowUp>true</notifyAuthorityFollowUp>
      <notifyRequisitionerFollowUp>false</notifyRequisitionerFollowUp>
      <automatic>false</automatic>
      <positionX>400</positionX>
      <positionY>227</positionY>
      <forecastedEffortType>0</forecastedEffortType>
      <forecastedEffort>0</forecastedEffort>
      <notifyManagerFollowUp>false</notifyManagerFollowUp>
      <notifyManagerDelay>false</notifyManagerDelay>
      <allowanceManagerTime>0</allowanceManagerTime>
      <frequenceManagerTime>0</frequenceManagerTime>
      <inhibitTransfer>false</inhibitTransfer>
      <periodId></periodId>
      <stateType>0</stateType>
      <bpmnType>80</bpmnType>
      <signalId>0</signalId>
      <counterSign>false</counterSign>
      <openInstances>0</openInstances>
      <noticeExpirationAuthorityTime>0</noticeExpirationAuthorityTime>
      <noticeExpirationRequisitionerTime>0</noticeExpirationRequisitionerTime>
      <noticeExpirationManagerTime>0</noticeExpirationManagerTime>
      <destinationStates/>
      <digitalSignature>false</digitalSignature>
      <executionType>0</executionType>
    </ProcessState>
    <ProcessState>
      <processStatePK>
        <companyId>1</companyId>
        <processId>cadastroClientes</processId>
        <version>1</version>
        <sequence>23</sequence>
      </processStatePK>
      <stateName>Ajustar Cadastro</stateName>
      <stateDescription>Ajustar Cadastro</stateDescription>
      <instruction>Verificar as informações inseridas pelo Solicitante, realizar os ajustes necessários e reenviar a solicitação, que será atualizada no Protheus. Caso seja necessário, a solicitação pode ser cancelada.</instruction>
      <deadlineTime>0</deadlineTime>
      <deadlineFieldName></deadlineFieldName>
      <joint>false</joint>
      <agreementPercentage>0</agreementPercentage>
      <engineAllocationId>Pool Grupo</engineAllocationId>
      <engineAllocationConfiguration>&lt;AssignmentController&gt;&lt;Group&gt;ajusteCadastro&lt;/Group&gt;&lt;/AssignmentController&gt;</engineAllocationConfiguration>
      <selectColleague>1</selectColleague>
      <initialState>false</initialState>
      <notifyAuthorityDelay>true</notifyAuthorityDelay>
      <notifyRequisitionerDelay>false</notifyRequisitionerDelay>
      <allowanceAuthorityTime>3600</allowanceAuthorityTime>
      <frequenceAuthorityTime>3600</frequenceAuthorityTime>
      <allowanceRequisitionerTime>0</allowanceRequisitionerTime>
      <frequenceRequisitionerTime>0</frequenceRequisitionerTime>
      <transferAttachments>false</transferAttachments>
      <subProcessId></subProcessId>
      <formFolder>0</formFolder>
      <notifyAuthorityFollowUp>true</notifyAuthorityFollowUp>
      <notifyRequisitionerFollowUp>false</notifyRequisitionerFollowUp>
      <automatic>false</automatic>
      <positionX>647</positionX>
      <positionY>80</positionY>
      <forecastedEffortType>0</forecastedEffortType>
      <forecastedEffort>0</forecastedEffort>
      <notifyManagerFollowUp>false</notifyManagerFollowUp>
      <notifyManagerDelay>false</notifyManagerDelay>
      <allowanceManagerTime>0</allowanceManagerTime>
      <frequenceManagerTime>0</frequenceManagerTime>
      <inhibitTransfer>false</inhibitTransfer>
      <periodId></periodId>
      <stateType>0</stateType>
      <bpmnType>80</bpmnType>
      <signalId>0</signalId>
      <counterSign>false</counterSign>
      <openInstances>0</openInstances>
      <noticeExpirationAuthorityTime>0</noticeExpirationAuthorityTime>
      <noticeExpirationRequisitionerTime>0</noticeExpirationRequisitionerTime>
      <noticeExpirationManagerTime>0</noticeExpirationManagerTime>
      <destinationStates/>
      <digitalSignature>false</digitalSignature>
      <executionType>0</executionType>
    </ProcessState>
    <ProcessState>
      <processStatePK>
        <companyId>1</companyId>
        <processId>cadastroClientes</processId>
        <version>1</version>
        <sequence>16</sequence>
      </processStatePK>
      <stateName>Intermediário</stateName>
      <stateDescription>Intermediário</stateDescription>
      <instruction>Evento intermediário do processo</instruction>
      <deadlineTime>0</deadlineTime>
      <joint>false</joint>
      <agreementPercentage>0</agreementPercentage>
      <engineAllocationId></engineAllocationId>
      <engineAllocationConfiguration></engineAllocationConfiguration>
      <selectColleague>0</selectColleague>
      <initialState>false</initialState>
      <notifyAuthorityDelay>true</notifyAuthorityDelay>
      <notifyRequisitionerDelay>false</notifyRequisitionerDelay>
      <allowanceAuthorityTime>1</allowanceAuthorityTime>
      <frequenceAuthorityTime>1</frequenceAuthorityTime>
      <allowanceRequisitionerTime>0</allowanceRequisitionerTime>
      <frequenceRequisitionerTime>0</frequenceRequisitionerTime>
      <transferAttachments>false</transferAttachments>
      <subProcessId></subProcessId>
      <formFolder>0</formFolder>
      <notifyAuthorityFollowUp>true</notifyAuthorityFollowUp>
      <notifyRequisitionerFollowUp>false</notifyRequisitionerFollowUp>
      <automatic>false</automatic>
      <positionX>330</positionX>
      <positionY>269</positionY>
      <forecastedEffortType>0</forecastedEffortType>
      <forecastedEffort>0</forecastedEffort>
      <notifyManagerFollowUp>false</notifyManagerFollowUp>
      <notifyManagerDelay>false</notifyManagerDelay>
      <frequenceManagerTime>0</frequenceManagerTime>
      <inhibitTransfer>false</inhibitTransfer>
      <periodId></periodId>
      <stateType>0</stateType>
      <bpmnType>43</bpmnType>
      <signalId>0</signalId>
      <counterSign>false</counterSign>
      <openInstances>0</openInstances>
      <destinationStates/>
      <digitalSignature>false</digitalSignature>
      <parentSequence>13</parentSequence>
    </ProcessState>
    <ProcessState>
      <processStatePK>
        <companyId>1</companyId>
        <processId>cadastroClientes</processId>
        <version>1</version>
        <sequence>32</sequence>
      </processStatePK>
      <stateName>Cadastro de cliente realizado com sucesso!</stateName>
      <stateDescription>Cadastro de cliente realizado com sucesso!</stateDescription>
      <instruction>Esta atividade indica que o processo terminado e que não ocorrerá nenhum tipo de pós processamento.</instruction>
      <deadlineTime>0</deadlineTime>
      <joint>false</joint>
      <agreementPercentage>0</agreementPercentage>
      <engineAllocationId></engineAllocationId>
      <engineAllocationConfiguration></engineAllocationConfiguration>
      <selectColleague>0</selectColleague>
      <initialState>false</initialState>
      <notifyAuthorityDelay>false</notifyAuthorityDelay>
      <notifyRequisitionerDelay>false</notifyRequisitionerDelay>
      <allowanceAuthorityTime>0</allowanceAuthorityTime>
      <frequenceAuthorityTime>1</frequenceAuthorityTime>
      <allowanceRequisitionerTime>0</allowanceRequisitionerTime>
      <frequenceRequisitionerTime>0</frequenceRequisitionerTime>
      <transferAttachments>false</transferAttachments>
      <subProcessId></subProcessId>
      <formFolder>0</formFolder>
      <notifyAuthorityFollowUp>false</notifyAuthorityFollowUp>
      <notifyRequisitionerFollowUp>false</notifyRequisitionerFollowUp>
      <automatic>false</automatic>
      <positionX>265</positionX>
      <positionY>400</positionY>
      <forecastedEffortType>0</forecastedEffortType>
      <forecastedEffort>0</forecastedEffort>
      <notifyManagerFollowUp>false</notifyManagerFollowUp>
      <notifyManagerDelay>false</notifyManagerDelay>
      <allowanceManagerTime>0</allowanceManagerTime>
      <frequenceManagerTime>0</frequenceManagerTime>
      <inhibitTransfer>false</inhibitTransfer>
      <periodId></periodId>
      <stateType>6</stateType>
      <bpmnType>68</bpmnType>
      <signalId>0</signalId>
      <counterSign>false</counterSign>
      <openInstances>0</openInstances>
      <destinationStates/>
      <digitalSignature>false</digitalSignature>
    </ProcessState>
  </list>
  <list/>
  <list>
    <ProcessLink>
      <processLinkPK>
        <companyId>1</companyId>
        <processId>cadastroClientes</processId>
        <version>1</version>
        <linkSequence>17</linkSequence>
      </processLinkPK>
      <actionLabel></actionLabel>
      <returnPermited>false</returnPermited>
      <initialStateSequence>16</initialStateSequence>
      <finalStateSequence>15</finalStateSequence>
      <returnLabel></returnLabel>
      <name></name>
      <automaticLink>false</automaticLink>
      <defaultLink>false</defaultLink>
      <type>0</type>
    </ProcessLink>
    <ProcessLink>
      <processLinkPK>
        <companyId>1</companyId>
        <processId>cadastroClientes</processId>
        <version>1</version>
        <linkSequence>18</linkSequence>
      </processLinkPK>
      <actionLabel></actionLabel>
      <returnPermited>false</returnPermited>
      <initialStateSequence>15</initialStateSequence>
      <finalStateSequence>13</finalStateSequence>
      <returnLabel></returnLabel>
      <name></name>
      <automaticLink>false</automaticLink>
      <defaultLink>false</defaultLink>
      <type>0</type>
    </ProcessLink>
    <ProcessLink>
      <processLinkPK>
        <companyId>1</companyId>
        <processId>cadastroClientes</processId>
        <version>1</version>
        <linkSequence>19</linkSequence>
      </processLinkPK>
      <actionLabel></actionLabel>
      <returnPermited>false</returnPermited>
      <initialStateSequence>4</initialStateSequence>
      <finalStateSequence>13</finalStateSequence>
      <returnLabel></returnLabel>
      <name></name>
      <automaticLink>false</automaticLink>
      <defaultLink>false</defaultLink>
      <type>0</type>
    </ProcessLink>
    <ProcessLink>
      <processLinkPK>
        <companyId>1</companyId>
        <processId>cadastroClientes</processId>
        <version>1</version>
        <linkSequence>25</linkSequence>
      </processLinkPK>
      <actionLabel></actionLabel>
      <returnPermited>false</returnPermited>
      <initialStateSequence>23</initialStateSequence>
      <finalStateSequence>13</finalStateSequence>
      <returnLabel></returnLabel>
      <name></name>
      <automaticLink>false</automaticLink>
      <defaultLink>false</defaultLink>
      <type>0</type>
    </ProcessLink>
    <ProcessLink>
      <processLinkPK>
        <companyId>1</companyId>
        <processId>cadastroClientes</processId>
        <version>1</version>
        <linkSequence>31</linkSequence>
      </processLinkPK>
      <actionLabel></actionLabel>
      <returnPermited>false</returnPermited>
      <initialStateSequence>4</initialStateSequence>
      <finalStateSequence>23</finalStateSequence>
      <returnLabel></returnLabel>
      <name></name>
      <automaticLink>false</automaticLink>
      <defaultLink>false</defaultLink>
      <type>0</type>
    </ProcessLink>
    <ProcessLink>
      <processLinkPK>
        <companyId>1</companyId>
        <processId>cadastroClientes</processId>
        <version>1</version>
        <linkSequence>33</linkSequence>
      </processLinkPK>
      <actionLabel></actionLabel>
      <returnPermited>false</returnPermited>
      <initialStateSequence>13</initialStateSequence>
      <finalStateSequence>32</finalStateSequence>
      <returnLabel></returnLabel>
      <name></name>
      <automaticLink>false</automaticLink>
      <defaultLink>false</defaultLink>
      <type>0</type>
    </ProcessLink>
  </list>
  <list/>
  <list>
    <WorkflowProcessEvent>
      <workflowProcessEventPK>
        <companyId>1</companyId>
        <eventId>afterProcessCreate</eventId>
        <processId>cadastroClientes</processId>
        <version>1</version>
      </workflowProcessEventPK>
      <eventDescription>function afterProcessCreate(processId){&#xd;
	hAPI.setCardValue(&quot;processNumber&quot;, processId);&#xd;
}</eventDescription>
    </WorkflowProcessEvent>
    <WorkflowProcessEvent>
      <workflowProcessEventPK>
        <companyId>1</companyId>
        <eventId>servicetask13</eventId>
        <processId>cadastroClientes</processId>
        <version>1</version>
      </workflowProcessEventPK>
      <eventDescription>function servicetask13(attempt, message) {

	log.info(&quot;@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@&quot;);
	log.info(&quot;@@@@@@@@ CADASTRO DE CLIENTE NO PROTHEUS2 @@@@@@@@@&quot;);
	log.info(&quot;@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@&quot;);

	try {
		var clientService = fluigAPI.getAuthorizeClientService();

		var tipoPessoa = hAPI.getCardValue(&quot;tipoPessoa&quot;);
		var A1PESSOA = tipoPessoa === &quot;- Pessoa Física&quot; ? &quot;F&quot; : &quot;J&quot;;

		var cidade = hAPI.getCardValue(&quot;cidade&quot;);
		var cidadePj = hAPI.getCardValue(&quot;cidadePj&quot;);

		if (cidade != &quot;&quot; &amp;&amp; cidade != null) {
			var A1MUN = removerCaracteresEspeciais(cidade);
		} else if (cidadePj != &quot;&quot; &amp;&amp; cidadePj != null) {
			var A1MUN = removerCaracteresEspeciais(cidadePj);
		}

		log.info(&quot;### a1cod: &quot; + hAPI.getCardValue(&quot;a1cod&quot;))
		log.info(&quot;### a1loja: &quot; + hAPI.getCardValue(&quot;a1loja&quot;))

		if (hAPI.getCardValue(&quot;a1cod&quot;) == &quot;&quot; || hAPI.getCardValue(&quot;a1cod&quot;) == null) {
			var A1COD = &quot;ZZZZZZ&quot;;
		} else {
			var A1COD = hAPI.getCardValue(&quot;a1cod&quot;);
		}

		if (hAPI.getCardValue(&quot;a1loja&quot;) == &quot;&quot; || hAPI.getCardValue(&quot;a1loja&quot;) == null) {
			var A1LOJA = &quot;ZZ&quot;;
		} else {
			var A1LOJA = hAPI.getCardValue(&quot;a1loja&quot;);
		}


		if (hAPI.getCardValue(&quot;cpfCnpj&quot;) != &quot;&quot; &amp;&amp; hAPI.getCardValue(&quot;cpfCnpj&quot;) != null) {
			var A1CGC = formatarCPFouCNPJ(hAPI.getCardValue(&quot;cpfCnpj&quot;));
		} else if (hAPI.getCardValue(&quot;zoomcpfCnpj&quot;) != &quot;&quot; &amp;&amp; hAPI.getCardValue(&quot;zoomcpfCnpj&quot;) != null) {
			var A1CGC = formatarCPFouCNPJ(hAPI.getCardValue(&quot;zoomcpfCnpj&quot;));
		}

		if (hAPI.getCardValue(&quot;dataNascimento&quot;) != &quot;&quot; &amp;&amp; hAPI.getCardValue(&quot;dataNascimento&quot;) != null) {
			var dataNascimento = hAPI.getCardValue(&quot;dataNascimento&quot;);
		} else {
			var dataNascimento = hAPI.getCardValue(&quot;dataAbertura&quot;);
		}

		if (hAPI.getCardValue(&quot;nomeCompleto&quot;) != &quot;&quot; &amp;&amp; hAPI.getCardValue(&quot;nomeCompleto&quot;) != null) {
			var nomeCompleto = hAPI.getCardValue(&quot;nomeCompleto&quot;)
		} else {
			var nomeCompleto = hAPI.getCardValue(&quot;zoomNomeCompleto&quot;)
		}

		var A1NREDUZ = &quot;&quot; + nomeCompleto;
		A1NREDUZ = A1NREDUZ.substring(0, 19);

		// -- Correção de Telefone Exterior
		var rawTelExt = hAPI.getCardValue(&quot;telefoneExterior&quot;);
		var A1XTELEXT = 0;
		
		if (rawTelExt != null &amp;&amp; rawTelExt != &quot;&quot;) {
			var cleanTel = new java.lang.String(rawTelExt).replaceAll(&quot;[^0-9]&quot;, &quot;&quot;);
			
			if (cleanTel != &quot;&quot;) {
	             A1XTELEXT = parseInt(cleanTel);
	        }
		}

		var data = {
			companyId: &apos;1&apos;,
			serviceCode: &quot;rest-protheus&quot;,
			endpoint: &apos;/angcli/cadcli&apos;,
			method: &apos;post&apos;,
			timeoutService: &apos;100&apos;,
			headers: {
				&quot;Accept-Charset&quot;: &quot;UTF-8&quot;,
				&quot;Content-Type&quot;: &quot;application/json&quot;,
			},
			params: {
				&quot;ANGSA1&quot;: {
					&quot;A1COD&quot;: A1COD,
					&quot;A1LOJA&quot;: A1LOJA,
					&quot;A1PESSOA&quot;: hAPI.getCardValue(&quot;a1pessoa&quot;),
					&quot;A1XTIPOCL&quot;: hAPI.getCardValue(&quot;catCliente&quot;),
					&quot;A1NOME&quot;: nomeCompleto,
					&quot;A1NREDUZ&quot;: A1NREDUZ,
					&quot;A1CEP&quot;: formatarCEP(hAPI.getCardValue(&quot;cep&quot;)),
					&quot;A1END&quot;: hAPI.getCardValue(&quot;rua&quot;),
					&quot;A1COMPLEM&quot;: hAPI.getCardValue(&quot;numero&quot;),
					&quot;A1TIPO&quot;: &quot;F&quot;,
					&quot;A1EST&quot;: hAPI.getCardValue(&quot;codUF&quot;),
					&quot;A1CODMUN&quot;: hAPI.getCardValue(&quot;codMun&quot;),
					&quot;A1MUN&quot;: hAPI.getCardValue(&quot;municip&quot;),
					&quot;A1BAIRRO&quot;: hAPI.getCardValue(&quot;bairro&quot;),
					&quot;A1CGC&quot;: A1CGC,
					&quot;A1EMAIL&quot;: hAPI.getCardValue(&quot;email&quot;),
					&quot;A1DDD&quot;: &quot;&quot;,
					&quot;A1TEL&quot;: new java.lang.String(hAPI.getCardValue(&quot;telefoneBrasil&quot;)).replaceAll(&quot;[^0-9]&quot;, &quot;&quot;),
					&quot;A1INSCR&quot;: &quot;&quot;,
					&quot;A1INSCRM&quot;: &quot;&quot;,
					&quot;A1MSBLQL&quot;: &quot;2&quot;,
					&quot;A1DDI&quot;: hAPI.getCardValue(&quot;codDDI&quot;),
					&quot;A1XIBAN&quot;: hAPI.getCardValue(&quot;iban&quot;),
					&quot;A1XBAN&quot;: hAPI.getCardValue(&quot;bancoIdent&quot;),
					&quot;A1XSPREAD&quot;: hAPI.getCardValue(&quot;spreadAcordado&quot;),
					&quot;A1XRESPON&quot;: hAPI.getCardValue(&quot;responsavel&quot;),
					&quot;A1XTELEXT&quot;: A1XTELEXT,
					&quot;A1CNAE&quot;: hAPI.getCardValue(&quot;cnae&quot;),
					&quot;A1XNOMSOC&quot;: hAPI.getCardValue(&quot;socioMarjoritario&quot;),
					&quot;A1XCPFMAJ&quot;: hAPI.getCardValue(&quot;cpfMarjoritario&quot;),
					&quot;A1XENDSOC&quot;: hAPI.getCardValue(&quot;enderecoSocio&quot;),
					&quot;A1XENDEXT&quot;: hAPI.getCardValue(&quot;enderecoExt&quot;),
					&quot;A1XNIFIID&quot;: hAPI.getCardValue(&quot;nifIcamaIdEstrangeiro&quot;),
					&quot;A1PFISICA&quot;: hAPI.getCardValue(&quot;numeroRg&quot;),
					&quot;A1XPASS&quot;: hAPI.getCardValue(&quot;numPassaporte&quot;),
					&quot;A1XCONJ&quot;: &quot;&quot; + hAPI.getCardValue(&quot;conjuge&quot;),
					&quot;A1XCPFCON&quot;: &quot;&quot; + hAPI.getCardValue(&quot;cpfConjuge&quot;),
					&quot;A1XPROC&quot;: &quot;&quot;,
					&quot;A1XUSR&quot;: &quot;&quot;,
					&quot;A1XNOMSOL&quot;: &quot;&quot;,
					&quot;A1XMAISOL&quot;: &quot;&quot;,
					&quot;A1XORISOL&quot;: hAPI.getCardValue(&quot;orgemSolic&quot;),
					&quot;A1XSAIDEF&quot;: &quot;&quot;,
					&quot;A1DTNASC&quot;: dataNascimento,
					&quot;A1XVENCRG&quot;: hAPI.getCardValue(&quot;dataVencRg&quot;),
					&quot;A1XVENPAS&quot;: hAPI.getCardValue(&quot;dataVencPassaporte&quot;),
					&quot;A1XINCTR&quot;: hAPI.getCardValue(&quot;dataInicioCt&quot;),
					&quot;A1XFIMCTR&quot;: hAPI.getCardValue(&quot;dataFimCt&quot;),
					&quot;A1XDTCREA&quot;: &quot;01/01/30&quot;,
					&quot;A1XNACONJ&quot;: &quot;&quot; + hAPI.getCardValue(&quot;dataNascConjuge&quot;),
					&quot;A1XSAIDEF&quot;: hAPI.getCardValue(&quot;saidaDefinitiva&quot;),
					&quot;A1DOCUMENTS&quot;: [
						{
							&quot;DOCUMENT&quot;: &quot;HTTP DP LINK DA IMAGEM NO FLUIG&quot;,
							&quot;DOCUMENTYPE&quot;: &quot;RG&quot;
						}
					]
				}
			}
		};

		log.dir(data);

		var retornoApi = clientService.invoke(JSONUtil.toJSON(data));
		var retornojson = JSON.parse(retornoApi.getResult());
		var statusHttp = retornoApi.getHttpStatusResult();

		log.info(retornoApi.getResult());

		if (retornoApi.getResult() == null || retornoApi.getResult().isEmpty())
			throw java.lang.Exception(&quot;Ocorreu uma falha no retorno da API!&quot;);

		if (statusHttp &gt;= &quot;400&quot;) {
			var patternMsg = java.util.regex.Pattern.compile(&quot;Mensagem do erro:\\s*\\[(.*?)\\]&quot;, java.util.regex.Pattern.DOTALL);
			var matcherMsg = patternMsg.matcher(retornoApi.getResult());;
			var patternConteudo = java.util.regex.Pattern.compile(&quot;Conteudo atribuido:\\s*\\[(.*?)\\]&quot;, java.util.regex.Pattern.DOTALL);
			var matcherConteudo = patternConteudo.matcher(retornoApi.getResult());;
			var mensagemErro = &quot;&quot;;

			if (matcherMsg.find()) {
				mensagemErro = matcherMsg.group(1).trim(); // Captura o texto dentro dos colchetes
			}

			if (matcherConteudo.find()) {
				mensagemErro += &quot; - &quot; + matcherConteudo.group(1).trim(); // Captura o texto dentro dos colchetes
			}

			else {
				mensagemErro = &quot;Erro desconhecido.&quot;;
			}

			throw mensagemErro;
		}

		hAPI.setCardValue(&quot;retornoProtheus&quot;, retornojson.Codigo);
	} catch (err) {
		throw new java.lang.String(err) + (err.lineNumber ? &quot; - Linha: &quot; + String(err.lineNumber) : &quot;&quot;);
	}
	return true;
}

function removerCaracteresEspeciais(texto) {
	// Expressão regular para encontrar caracteres especiais
	var regex = /[^a-zA-Z0-9\s]/g;
	// Substitui caracteres especiais por uma string vazia
	return new java.lang.String(texto).replaceAll(regex, &apos;&apos;).toString();
}

function formatarCEP(cep) {
	// Remove todos os caracteres não numéricos do CEP
	cep = new java.lang.String(cep).replaceAll(&quot;\\D&quot;, &apos;&apos;).toString();
	if (cep.length() !== 8) {
		return &quot;CEP inválido&quot;;
	}
	cep = cep.substring(0, 5) + cep.substring(5);

	return cep;
}

function formatarCPFouCNPJ(cpfOuCnpj) {
	// Remove todos os caracteres não numéricos do CPF ou CNPJ
	cpfOuCnpj = new java.lang.String(cpfOuCnpj).replaceAll(&quot;\\D&quot;, &apos;&apos;).toString();

	// Verifica se o tamanho da string é compatível com CPF ou CNPJ
	if (cpfOuCnpj.length() === 11) {
		// Formata CPF no padrão XXXXXXXXXXX
		return cpfOuCnpj.substring(0, 3) + cpfOuCnpj.substring(3, 6) + cpfOuCnpj.substring(6, 9) + cpfOuCnpj.substring(9);
	} else if (cpfOuCnpj.length() === 14) {
		// Formata CNPJ no padrão XX.XXX.XXX/XXXX-XX
		return cpfOuCnpj.substring(0, 2) + cpfOuCnpj.substring(2, 5) + cpfOuCnpj.substring(5, 8) + cpfOuCnpj.substring(8, 12) + cpfOuCnpj.substring(12);
	} else {
		// Tamanho inválido, pode lançar uma exceção ou retornar uma mensagem de erro
		return &quot;CPF ou CNPJ inválido&quot;;
	}
}</eventDescription>
    </WorkflowProcessEvent>
    <WorkflowProcessEvent>
      <workflowProcessEventPK>
        <companyId>1</companyId>
        <eventId>intermediateconditional21</eventId>
        <processId>cadastroClientes</processId>
        <version>1</version>
      </workflowProcessEventPK>
      <eventDescription>function intermediateconditional21() {

}</eventDescription>
    </WorkflowProcessEvent>
  </list>
  <list/>
  <list>
    <SwimLane>
      <color>FFFFFF</color>
      <height>491</height>
      <width>831</width>
      <positionX>10</positionX>
      <positionY>10</positionY>
      <stateName>Cadastro de Clientes</stateName>
      <type>1</type>
      <parentSequence>0</parentSequence>
      <swimLanePK>
        <companyId>1</companyId>
        <processId>cadastroClientes</processId>
        <version>1</version>
        <sequence>1</sequence>
      </swimLanePK>
    </SwimLane>
    <SwimLane>
      <color>9F9F9F</color>
      <height>163</height>
      <width>801</width>
      <positionX>40</positionX>
      <positionY>10</positionY>
      <stateName>Solicitante</stateName>
      <type>2</type>
      <parentSequence>1</parentSequence>
      <swimLanePK>
        <companyId>1</companyId>
        <processId>cadastroClientes</processId>
        <version>1</version>
        <sequence>2</sequence>
      </swimLanePK>
    </SwimLane>
    <SwimLane>
      <color>C0C0C0</color>
      <height>163</height>
      <width>801</width>
      <positionX>40</positionX>
      <positionY>173</positionY>
      <stateName>Integração Protheus</stateName>
      <type>2</type>
      <parentSequence>1</parentSequence>
      <swimLanePK>
        <companyId>1</companyId>
        <processId>cadastroClientes</processId>
        <version>1</version>
        <sequence>3</sequence>
      </swimLanePK>
    </SwimLane>
    <SwimLane>
      <color>82b0b7</color>
      <height>165</height>
      <width>801</width>
      <positionX>40</positionX>
      <positionY>336</positionY>
      <stateName>Manut. Cadastro</stateName>
      <type>2</type>
      <parentSequence>1</parentSequence>
      <swimLanePK>
        <companyId>1</companyId>
        <processId>cadastroClientes</processId>
        <version>1</version>
        <sequence>4</sequence>
      </swimLanePK>
    </SwimLane>
  </list>
  <list/>
  <list/>
  <list>
    <ProcessLinkBend>
      <processLinkBendPK>
        <companyId>1</companyId>
        <processId>cadastroClientes</processId>
        <version>13</version>
        <linkSequence>19</linkSequence>
        <bendSequence>1</bendSequence>
      </processLinkBendPK>
      <positionX>117</positionX>
      <positionY>257</positionY>
    </ProcessLinkBend>
    <ProcessLinkBend>
      <processLinkBendPK>
        <companyId>1</companyId>
        <processId>cadastroClientes</processId>
        <version>13</version>
        <linkSequence>25</linkSequence>
        <bendSequence>1</bendSequence>
      </processLinkBendPK>
      <positionX>283</positionX>
      <positionY>118</positionY>
    </ProcessLinkBend>
    <ProcessLinkBend>
      <processLinkBendPK>
        <companyId>1</companyId>
        <processId>cadastroClientes</processId>
        <version>13</version>
        <linkSequence>31</linkSequence>
        <bendSequence>1</bendSequence>
      </processLinkBendPK>
      <positionX>117</positionX>
      <positionY>30</positionY>
    </ProcessLinkBend>
    <ProcessLinkBend>
      <processLinkBendPK>
        <companyId>1</companyId>
        <processId>cadastroClientes</processId>
        <version>13</version>
        <linkSequence>31</linkSequence>
        <bendSequence>2</bendSequence>
      </processLinkBendPK>
      <positionX>700</positionX>
      <positionY>30</positionY>
    </ProcessLinkBend>
  </list>
  <list/>
  <list/>
  <list/>
  <list>
    <ProcessStateService>
      <companyId>1</companyId>
      <processId>cadastroClientes</processId>
      <version>1</version>
      <sequence>13</sequence>
      <attempts>3</attempts>
      <sucessFullMessage>Integração executada com sucesso</sucessFullMessage>
      <serviceName></serviceName>
      <frequency>5</frequency>
      <frequencyType>0</frequencyType>
    </ProcessStateService>
  </list>
  <list/>
  <list/>
  <list/>
  <list/>
</list>